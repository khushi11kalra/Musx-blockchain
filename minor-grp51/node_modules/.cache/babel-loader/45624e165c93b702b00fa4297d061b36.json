{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar byteUtils = require('./byte-utils.js');\nconst defaultChunkSize = 256;\nclass Bl {\n  constructor() {\n    let chunkSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultChunkSize;\n    this.chunkSize = chunkSize;\n    this.cursor = 0;\n    this.maxCursor = -1;\n    this.chunks = [];\n    this._initReuseChunk = null;\n  }\n  reset() {\n    this.cursor = 0;\n    this.maxCursor = -1;\n    if (this.chunks.length) {\n      this.chunks = [];\n    }\n    if (this._initReuseChunk !== null) {\n      this.chunks.push(this._initReuseChunk);\n      this.maxCursor = this._initReuseChunk.length - 1;\n    }\n  }\n  push(bytes) {\n    let topChunk = this.chunks[this.chunks.length - 1];\n    const newMax = this.cursor + bytes.length;\n    if (newMax <= this.maxCursor + 1) {\n      const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n      topChunk.set(bytes, chunkPos);\n    } else {\n      if (topChunk) {\n        const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n        if (chunkPos < topChunk.length) {\n          this.chunks[this.chunks.length - 1] = topChunk.subarray(0, chunkPos);\n          this.maxCursor = this.cursor - 1;\n        }\n      }\n      if (bytes.length < 64 && bytes.length < this.chunkSize) {\n        topChunk = byteUtils.alloc(this.chunkSize);\n        this.chunks.push(topChunk);\n        this.maxCursor += topChunk.length;\n        if (this._initReuseChunk === null) {\n          this._initReuseChunk = topChunk;\n        }\n        topChunk.set(bytes, 0);\n      } else {\n        this.chunks.push(bytes);\n        this.maxCursor += bytes.length;\n      }\n    }\n    this.cursor += bytes.length;\n  }\n  toBytes() {\n    let reset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    let byts;\n    if (this.chunks.length === 1) {\n      const chunk = this.chunks[0];\n      if (reset && this.cursor > chunk.length / 2) {\n        byts = this.cursor === chunk.length ? chunk : chunk.subarray(0, this.cursor);\n        this._initReuseChunk = null;\n        this.chunks = [];\n      } else {\n        byts = byteUtils.slice(chunk, 0, this.cursor);\n      }\n    } else {\n      byts = byteUtils.concat(this.chunks, this.cursor);\n    }\n    if (reset) {\n      this.reset();\n    }\n    return byts;\n  }\n}\nexports.Bl = Bl;","map":{"version":3,"names":["Object","defineProperty","exports","value","byteUtils","require","defaultChunkSize","Bl","constructor","chunkSize","arguments","length","undefined","cursor","maxCursor","chunks","_initReuseChunk","reset","push","bytes","topChunk","newMax","chunkPos","set","subarray","alloc","toBytes","byts","chunk","slice","concat"],"sources":["C:/Users/khushi kalra/Desktop/5th semester projects/Minor1/minor/blockstudio/App/minor-grp51/node_modules/cborg/cjs/lib/bl.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar byteUtils = require('./byte-utils.js');\n\nconst defaultChunkSize = 256;\nclass Bl {\n  constructor(chunkSize = defaultChunkSize) {\n    this.chunkSize = chunkSize;\n    this.cursor = 0;\n    this.maxCursor = -1;\n    this.chunks = [];\n    this._initReuseChunk = null;\n  }\n  reset() {\n    this.cursor = 0;\n    this.maxCursor = -1;\n    if (this.chunks.length) {\n      this.chunks = [];\n    }\n    if (this._initReuseChunk !== null) {\n      this.chunks.push(this._initReuseChunk);\n      this.maxCursor = this._initReuseChunk.length - 1;\n    }\n  }\n  push(bytes) {\n    let topChunk = this.chunks[this.chunks.length - 1];\n    const newMax = this.cursor + bytes.length;\n    if (newMax <= this.maxCursor + 1) {\n      const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n      topChunk.set(bytes, chunkPos);\n    } else {\n      if (topChunk) {\n        const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n        if (chunkPos < topChunk.length) {\n          this.chunks[this.chunks.length - 1] = topChunk.subarray(0, chunkPos);\n          this.maxCursor = this.cursor - 1;\n        }\n      }\n      if (bytes.length < 64 && bytes.length < this.chunkSize) {\n        topChunk = byteUtils.alloc(this.chunkSize);\n        this.chunks.push(topChunk);\n        this.maxCursor += topChunk.length;\n        if (this._initReuseChunk === null) {\n          this._initReuseChunk = topChunk;\n        }\n        topChunk.set(bytes, 0);\n      } else {\n        this.chunks.push(bytes);\n        this.maxCursor += bytes.length;\n      }\n    }\n    this.cursor += bytes.length;\n  }\n  toBytes(reset = false) {\n    let byts;\n    if (this.chunks.length === 1) {\n      const chunk = this.chunks[0];\n      if (reset && this.cursor > chunk.length / 2) {\n        byts = this.cursor === chunk.length ? chunk : chunk.subarray(0, this.cursor);\n        this._initReuseChunk = null;\n        this.chunks = [];\n      } else {\n        byts = byteUtils.slice(chunk, 0, this.cursor);\n      }\n    } else {\n      byts = byteUtils.concat(this.chunks, this.cursor);\n    }\n    if (reset) {\n      this.reset();\n    }\n    return byts;\n  }\n}\n\nexports.Bl = Bl;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}